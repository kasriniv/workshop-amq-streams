<!DOCTYPE html>

<html>

<body>

 

<h2>The Record getter from Kafka Topic</h2>

 

<!--div>

  <textarea id="jsonResponse" style="width:500px; height:200px">PLACE HOLDER</textarea>

</div-->
<p id="demo"></p>
<button type="button" onclick="loadDoc()">Submit Request</button>

 

<script>

function loadDoc() {

  var xhttp = new XMLHttpRequest();

  var baseURL = "https://cors.io/?http://genericconsumer-myproject.apps.kasriniv-8dab.openshiftworkshop.com/camel/messages"

  xhttp.open("GET", baseURL, true);

  xhttp.send();

  xhttp.onreadystatechange = function() {

   if (this.readyState == 4 && this.status == 200) {
	   var obj=this.responseText;
	   //var myJSON = JSON.stringify(obj);
	    var myJSON = JSON.parse(obj);
	   console.log(myJSON);
	   var txt="";
    txt += "<table border='1'>"
       for (x in myJSON) {
         txt += "<tr><td>" + x + "</td><td>" + myJSON[x].word + "</td></tr>";
       }
       txt += "</table>" 
       document.getElementById("demo").innerHTML = txt;

    }
	
console.log(this.responseText);
  };

  
}

</script>

 

</body>

</html>